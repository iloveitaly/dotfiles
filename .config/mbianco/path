# ===============================
# PATH mutations
# Important to separate into a separate file so it can be sourced in ~/.zshenv for agents
# ===============================

# we tried linux homebrew, but it's terrible, so we conditionally load brew so these dotfiles support a linux environment
brew_path="/opt/homebrew/bin/brew"
if [[ -x "$brew_path" ]]; then
  eval "$($brew_path shellenv)"
fi

# postgres utilities
export PATH="/opt/homebrew/opt/postgresql@17/bin:$PATH"

# poetry, orb, mise, etc
export PATH="$HOME/.local/bin:$PATH"

# TODO really? shouldn't we do this in the bun plugin? Or can we redirect installs?
export PATH="$HOME/.bun/bin:$PATH"

# for latest gnu make
export PATH="/opt/homebrew/opt/make/libexec/gnubin:$PATH"

# PNPM (for global bins)
export PNPM_HOME="$HOME/.pnpm"
export PATH="$PNPM_HOME:$PATH"

# go stuff in the home is annoying, hide it please
export GOPATH="$HOME/.local/share/go"
export PATH="$PATH:$GOPATH/bin"

# https://specifications.freedesktop.org/basedir/latest/
# not exactly a path mutation, but similar in spirit
# without this many utilities will use ~/Library/Application Support, which I hate
# do we need all of these? It's unclear, but rather safe than sorry.
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"
export XDG_CACHE_HOME="$HOME/.cache"